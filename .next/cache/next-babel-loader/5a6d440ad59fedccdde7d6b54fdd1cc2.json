{"ast":null,"code":"var _jsxFileName = \"/Users/kobimantzur/mapo/hello-next/src/containers/SearchResultsPage/index.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './index.scss';\nimport Page from '../../components/Page';\nimport Content from '../../components/Content';\nimport { searchBySubCategory } from '../../reducers/Search/actions';\nimport BusinessListView from '../../components/BusinessListView';\nimport FancyTitle from '../../components/FancyTitle';\nimport SubCategoryPicker from '../../components/SubCategoryPicker';\n\nclass SearchResultsPage extends Component {\n  // componentDidMount() {\n  //   this.loadResults();\n  // }\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.loadResults();\n    }\n  }\n\n  loadResults() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const placeId = urlParams.get('placeId');\n    const subCategoryId = urlParams.get('subCategoryId');\n    this.props.searchBySubCategory(placeId, subCategoryId);\n  }\n\n  getPageTitle() {\n    const {\n      selectedPlace,\n      selectedSubCategory\n    } = this.props;\n    let resultTitle = 'תוצאות חיפוש';\n\n    if (selectedPlace && selectedSubCategory) {\n      resultTitle += ` | ${selectedSubCategory.title} ב${selectedPlace.heName}`;\n    }\n\n    return resultTitle;\n  }\n\n  render() {\n    const pageTitle = this.getPageTitle() || '';\n    return __jsx(Page, {\n      className: \"search-results-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, __jsx(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, pageTitle && __jsx(FancyTitle, {\n      highlightedTitle: pageTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), __jsx(SubCategoryPicker, _extends({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"spacer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), __jsx(BusinessListView, _extends({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  SearchReducer\n}) => {\n  const {\n    isLoading,\n    selectedPlace,\n    businessList,\n    selectedSubCategory,\n    subCategoriesList\n  } = SearchReducer;\n  return {\n    isLoading,\n    selectedPlace,\n    businessList,\n    selectedSubCategory,\n    subCategoriesList\n  };\n};\n\nconst mapDispatchToProps = {\n  searchBySubCategory\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchResultsPage);","map":{"version":3,"sources":["/Users/kobimantzur/mapo/hello-next/src/containers/SearchResultsPage/index.js"],"names":["React","Component","connect","Page","Content","searchBySubCategory","BusinessListView","FancyTitle","SubCategoryPicker","SearchResultsPage","componentDidUpdate","prevProps","props","location","loadResults","urlParams","URLSearchParams","window","search","placeId","get","subCategoryId","getPageTitle","selectedPlace","selectedSubCategory","resultTitle","title","heName","render","pageTitle","mapStateToProps","SearchReducer","isLoading","businessList","subCategoriesList","mapDispatchToProps"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,cAAP;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAASC,mBAAT,QAAoC,+BAApC;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,iBAAP,MAA8B,oCAA9B;;AAEA,MAAMC,iBAAN,SAAgCR,SAAhC,CAA0C;AACxC;AACA;AACA;AAEAS,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAI,KAAKC,KAAL,CAAWC,QAAX,KAAwBF,SAAS,CAACE,QAAtC,EAAgD;AAC9C,WAAKC,WAAL;AACD;AACF;;AAEDA,EAAAA,WAAW,GAAG;AACZ,UAAMC,SAAS,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACJ,QAAP,CAAgBK,MAApC,CAAlB;AACA,UAAMC,OAAO,GAAGJ,SAAS,CAACK,GAAV,CAAc,SAAd,CAAhB;AACA,UAAMC,aAAa,GAAGN,SAAS,CAACK,GAAV,CAAc,eAAd,CAAtB;AAEA,SAAKR,KAAL,CAAWP,mBAAX,CAA+Bc,OAA/B,EAAwCE,aAAxC;AACD;;AAEDC,EAAAA,YAAY,GAAG;AACb,UAAM;AAAEC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QAAyC,KAAKZ,KAApD;AACA,QAAIa,WAAW,GAAG,cAAlB;;AACA,QAAIF,aAAa,IAAIC,mBAArB,EAA0C;AACxCC,MAAAA,WAAW,IAAK,MAAKD,mBAAmB,CAACE,KAAM,KAAIH,aAAa,CAACI,MAAO,EAAxE;AACD;;AAED,WAAOF,WAAP;AACD;;AAEDG,EAAAA,MAAM,GAAG;AACP,UAAMC,SAAS,GAAG,KAAKP,YAAL,MAAuB,EAAzC;AACA,WACE,MAAC,IAAD;AAAM,MAAA,SAAS,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGO,SAAS,IAAI,MAAC,UAAD;AAAY,MAAA,gBAAgB,EAAEA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhB,EAEE,MAAC,iBAAD,eAAuB,KAAKjB,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFF,EAGE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,MAAC,gBAAD,eAAsB,KAAKA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAJF,CADF,CADF;AAUD;;AAzCuC;;AA2C1C,MAAMkB,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAuB;AAC7C,QAAM;AACJC,IAAAA,SADI;AAEJT,IAAAA,aAFI;AAGJU,IAAAA,YAHI;AAIJT,IAAAA,mBAJI;AAKJU,IAAAA;AALI,MAMFH,aANJ;AAOA,SAAO;AACLC,IAAAA,SADK;AAELT,IAAAA,aAFK;AAGLU,IAAAA,YAHK;AAILT,IAAAA,mBAJK;AAKLU,IAAAA;AALK,GAAP;AAOD,CAfD;;AAgBA,MAAMC,kBAAkB,GAAG;AACzB9B,EAAAA;AADyB,CAA3B;AAGA,eAAeH,OAAO,CAAC4B,eAAD,EAAkBK,kBAAlB,CAAP,CAA6C1B,iBAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './index.scss';\nimport Page from '../../components/Page';\nimport Content from '../../components/Content';\nimport { searchBySubCategory } from '../../reducers/Search/actions';\nimport BusinessListView from '../../components/BusinessListView';\nimport FancyTitle from '../../components/FancyTitle';\nimport SubCategoryPicker from '../../components/SubCategoryPicker';\n\nclass SearchResultsPage extends Component {\n  // componentDidMount() {\n  //   this.loadResults();\n  // }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.loadResults();\n    }\n  }\n\n  loadResults() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const placeId = urlParams.get('placeId');\n    const subCategoryId = urlParams.get('subCategoryId');\n\n    this.props.searchBySubCategory(placeId, subCategoryId);\n  }\n\n  getPageTitle() {\n    const { selectedPlace, selectedSubCategory } = this.props;\n    let resultTitle = 'תוצאות חיפוש';\n    if (selectedPlace && selectedSubCategory) {\n      resultTitle += ` | ${selectedSubCategory.title} ב${selectedPlace.heName}`;\n    }\n\n    return resultTitle;\n  }\n\n  render() {\n    const pageTitle = this.getPageTitle() || '';\n    return (\n      <Page className=\"search-results-page\">\n        <Content>\n          {pageTitle && <FancyTitle highlightedTitle={pageTitle} />}\n          <SubCategoryPicker {...this.props} />\n          <div className=\"spacer\" />\n          <BusinessListView {...this.props} />\n        </Content>\n      </Page>\n    );\n  }\n}\nconst mapStateToProps = ({ SearchReducer }) => {\n  const {\n    isLoading,\n    selectedPlace,\n    businessList,\n    selectedSubCategory,\n    subCategoriesList\n  } = SearchReducer;\n  return {\n    isLoading,\n    selectedPlace,\n    businessList,\n    selectedSubCategory,\n    subCategoriesList\n  };\n};\nconst mapDispatchToProps = {\n  searchBySubCategory\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchResultsPage);\n"]},"metadata":{},"sourceType":"module"}