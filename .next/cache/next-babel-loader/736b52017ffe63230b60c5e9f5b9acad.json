{"ast":null,"code":"var _jsxFileName = \"/Users/kobi.mantzur/m/n/src/containers/BusinessPage/index.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport _ from 'underscore';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport MetaTags from 'react-meta-tags';\nimport Button from 'antd/lib/button';\nimport { Row, Col, Rate, Layout, Card, Icon } from 'antd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapPin, faMapMarker } from '@fortawesome/free-solid-svg-icons';\nimport { getFriendlyTime, isMobile } from '../../services/commonService';\nimport { getBusinessByFriendlyUrl, setReviewLoadingState, setEmptyState, submitBusinessReview, setReviewModalState, cleanBusinessPage } from '../../reducers/BusinessPage/actions';\nimport CurrentlyOpen from './Components/CurrentlyOpen';\nimport Rating from './Components/Rating';\nimport './index.scss';\nimport Comments from './Components/Comments';\nimport ReviewModal from './Components/ReviewModal';\nimport facebookIcon from '../../img/facebook-icon.png';\nimport instagramIcon from '../../img/instagram-icon.png';\nimport mailIcon from '../../img/mail-icon.png';\nimport { ShareButtons } from './Components';\nimport Map, { DEF_PROPS } from './Components/Map';\nimport Gallery from './Components/Gallery';\nimport { reportScreen, reportEvent } from '../../services/analyticsService';\nimport { AppSpinner, CardWrap, UserInfo, FancyTitle } from '../../components';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Tags from './Components/Tags';\nimport Page from '../../components/Page';\nimport Content from '../../components/Content'; // const { Content } = Layout;\n\nconst daysList = ['ראשון', 'שני', 'שלישי', 'רביעי', 'חמישי', 'שישי', 'שבת'];\nconst propTypes = {\n  business: PropTypes.object,\n  getBusinessByFriendlyUrl: PropTypes.func,\n  isLoading: PropTypes.bool\n};\nconst defaultProps = {\n  business: undefined,\n  getBusinessByFriendlyUrl: _.noop,\n  isLoading: true\n};\n\nclass BusinessPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onModalStateChange\", s => {\n      this.props.setReviewModalState(s);\n    });\n\n    _defineProperty(this, \"formatPhoneNumber\", s => {\n      const s2 = `${s}`.replace(/\\D/g, '');\n      const m = s2.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n      return !m ? null : `(${m[1]}) ${m[2]}-${m[3]}`;\n    });\n\n    _defineProperty(this, \"formatTime\", time => {\n      const parsedTime = new Date(JSON.parse(JSON.stringify(new Date(time))));\n\n      if (parsedTime) {\n        const hours = parsedTime.getHours() < 10 ? `0${parsedTime.getHours()}` : parsedTime.getHours();\n        const minutes = parsedTime.getMinutes() < 10 ? `0${parsedTime.getMinutes()}` : parsedTime.getMinutes();\n        return `${hours}:${minutes}`;\n      }\n\n      return '';\n    });\n\n    _defineProperty(this, \"renderInfoSection\", () => {\n      return null;\n      return __jsx(Row, {\n        className: \"info-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, __jsx(Col, {\n        span: 12,\n        push: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"info-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"\\u05D1\\u05E2\\u05DC \\u05E2\\u05E1\\u05E7?\"), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"\\u05DE\\u05D7\\u05E4\\u05E9 \\u05DC\\u05E7\\u05D3\\u05DD \\u05D0\\u05EA \\u05D4\\u05E2\\u05E1\\u05E7 \\u05E9\\u05DC\\u05DA?\", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), \"\\u05D0\\u05E6\\u05DC\\u05E0\\u05D5 \\u05EA\\u05E7\\u05D1\\u05DC \\u05D4\\u05D6\\u05D3\\u05DE\\u05E0\\u05D5\\u05EA \\u05DC\\u05D7\\u05E9\\u05D9\\u05E4\\u05D4 \\u05E2\\u05E0\\u05E7\\u05D9\\u05EA \\u05D5\\u05E4\\u05E8\\u05E1\\u05D5\\u05DD \\u05DC\\u05D1\\u05D9\\u05EA \\u05D4\\u05E2\\u05E1\\u05E7 \\u05E9\\u05DC\\u05DA.\"))), __jsx(Col, {\n        span: 12,\n        pull: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"info-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"\\u05DE\\u05D4 \\u05D6\\u05D4 Mapo?\"), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, `עברת ללוס אנג'לס?\n\nמחפש רופא? או אולי עורך דין טוב? הקושי של השפה מקשה עלייך?\n\nאתה לא לבד! `, __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), `בשביל זה אנחנו פה.\n\nאנחנו בMapo דואגים לספק לך את כל העסקים\n\nונותני השירות הישראלים.`))));\n    });\n\n    this.state = {\n      isMobile: false\n    };\n  }\n\n  componentWillMount() {\n    const {\n      friendlyUrl\n    } = this.props.match.params;\n\n    if (!friendlyUrl) {\n      window.location.href = 'https://mymapo.com'; // this.props.setEmptyState();\n    } else {\n      this.props.getBusinessByFriendlyUrl(friendlyUrl);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.cleanBusinessPage();\n  }\n\n  componentDidMount() {\n    reportScreen(location.pathname);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getPlaceName(business) {\n    if (!business.placements || business.placements.length === 0) return null;\n    if (!business.subCategories || business.subCategories.length === 0) return null;\n    const title = `${business.subCategories[0].title} ב${business.placements[0].heName} -`; // if (business.placements[0].country) {\n    //   title += `, ${business.placements[0].country.heName}`;\n    // }\n\n    return title;\n  }\n\n  getLocationTitle(business) {\n    if (!business || !business.placements || business.placements.length === 0) return '';\n    const locationName = business.placements[0].heName; // if (business.placements[0].country) {\n    //   locationName += `, <b>${business.placements[0].country.heName}</b>`;\n    // }\n\n    return __jsx(\"div\", {\n      className: \"address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, locationName, \",\", ' '), business.placements[0].country && business.placements[0].country.heName);\n  }\n\n  renderBusinessHeader() {\n    const {\n      business\n    } = this.props;\n    if (!business) return null;\n    const {\n      englishName,\n      subSubCategory,\n      description\n    } = business;\n    return __jsx(Card, {\n      className: \"business-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, description)), __jsx(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      className: \"sub-category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, subSubCategory))));\n  }\n\n  renderBusinessBody() {\n    const {\n      business: {\n        address,\n        phoneNumber,\n        facebookName,\n        instagramName,\n        websiteUrl,\n        email,\n        scale1,\n        location\n      }\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"business-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, __jsx(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, __jsx(Col, {\n      className: \"right\",\n      span: 8,\n      push: 16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), __jsx(Col, {\n      className: \"left\",\n      span: 10,\n      pull: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      className: \"phone-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, this.formatPhoneNumber(phoneNumber)), __jsx(Row, {\n      className: \"social\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, websiteUrl && __jsx(\"a\", {\n      className: \"website-link\",\n      href: websiteUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"website\"), facebookName && __jsx(\"a\", {\n      target: \"_blank\",\n      className: \"facebook\",\n      href: `https://facebook.com/${facebookName}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: facebookIcon,\n      alt: facebookName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })), instagramName && __jsx(\"a\", {\n      target: \"_blank\",\n      className: \"instagram\",\n      href: `https://instagram.com/${instagramName}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: instagramIcon,\n      alt: instagramName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    })), email && __jsx(\"a\", {\n      className: \"mail\",\n      href: `mailto:${email}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: mailIcon,\n      alt: email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }))))), __jsx(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }));\n  }\n\n  renderBusinessHours() {\n    const {\n      business: {\n        businessHours\n      }\n    } = this.props;\n    if (!businessHours) return null;\n    const businessHoursObj = JSON.parse(businessHours);\n    return __jsx(\"div\", {\n      className: \"business-hours\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"\\u05E9\\u05E2\\u05D5\\u05EA \\u05E4\\u05E2\\u05D9\\u05DC\\u05D5\\u05EA\"), businessHoursObj.map((day, i) => __jsx(Row, {\n      key: `day${i}`,\n      className: \"hour-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, day.length > 0 && day.map((hour, i = j) => __jsx(\"span\", {\n      key: `day${i}-hour${hour}`,\n      className: \"hour\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, `${(i > 0 ? ', ' : '') + this.formatTime(hour.start)}-${this.formatTime(hour.end)}`)), day.length === 0 && __jsx(\"span\", {\n      className: \"hour\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"\\u05E1\\u05D2\\u05D5\\u05E8\"), __jsx(\"span\", {\n      className: \"day\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, daysList[i]))));\n  }\n\n  renderLoader() {\n    return __jsx(Content, {\n      className: \"business-page loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, __jsx(AppSpinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }));\n  }\n\n  renderEmptyState() {\n    return __jsx(Content, {\n      className: \"business-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      className: \"general-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"\\u05DE\\u05D8\\u05D9\\u05D9\\u05DC\\u05D9\\u05DD \\u05D9\\u05E9\\u05E8\\u05D0\\u05DC\\u05D9\\u05DD \\u05D1\\u05D7\\u05D5\\u05F4\\u05DC\"), this.renderInfoSection());\n  }\n\n  render() {\n    const {\n      isLoading,\n      business,\n      isReviewModalOpen\n    } = this.props;\n    if (isLoading) return this.renderLoader();\n    if (!isLoading && !business) return this.renderEmptyState();\n    return __jsx(Page, {\n      className: \"business-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, __jsx(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, __jsx(FancyTitle, {\n      highlightedTitle: business.englishName,\n      regularTitle: this.getPlaceName(business),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), __jsx(Breadcrumbs, {\n      items: [{\n        link: '',\n        title: business.placements[0].country.heName,\n        placeObject: business.placements[0].country\n      }, {\n        link: '',\n        title: business.placements[0].heName,\n        placeObject: business.placements[0]\n      }, {\n        link: '',\n        title: business.subCategories[0].title,\n        subCategoryObject: business.subCategories[0],\n        placeObject: business.placements[0]\n      }, {\n        link: '',\n        title: business.englishName,\n        isHighlighted: true\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }), __jsx(Tags, _extends({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"header-color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"info-and-share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, business && __jsx(UserInfo, {\n      userDetails: business.userId,\n      additionalSecondaryTitle: `${getFriendlyTime(business.dateCreated)}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }), __jsx(ShareButtons, _extends({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }))), this.renderBusinessHeader(), __jsx(\"div\", {\n      className: \"cubes-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, __jsx(Gallery, _extends({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    })), __jsx(CardWrap, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"address-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, __jsx(FontAwesomeIcon, {\n      className: \"address-icon\",\n      icon: faMapMarker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }), this.getLocationTitle(business)), business && business.address && __jsx(Map, _extends({\n      isMarkerShown: true,\n      location: business.location\n    }, DEF_PROPS, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    })))), this.renderInfoSection()));\n  }\n\n}\n\nBusinessPage.propTypes = propTypes;\nBusinessPage.defaultProps = defaultProps;\n\nconst mapStateToProps = ({\n  BusinessPageReducer\n}) => {\n  const {\n    business,\n    isLoading,\n    isReviewModalOpen,\n    isReviewLoading\n  } = BusinessPageReducer;\n  return {\n    business,\n    isLoading,\n    isReviewModalOpen,\n    isReviewLoading\n  };\n};\n\nconst mapDispatchToProps = {\n  getBusinessByFriendlyUrl,\n  setEmptyState,\n  submitBusinessReview,\n  setReviewModalState,\n  setReviewLoadingState,\n  cleanBusinessPage\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BusinessPage);","map":{"version":3,"sources":["/Users/kobi.mantzur/m/n/src/containers/BusinessPage/index.js"],"names":["React","_","connect","PropTypes","MetaTags","Button","Row","Col","Rate","Layout","Card","Icon","FontAwesomeIcon","faMapPin","faMapMarker","getFriendlyTime","isMobile","getBusinessByFriendlyUrl","setReviewLoadingState","setEmptyState","submitBusinessReview","setReviewModalState","cleanBusinessPage","CurrentlyOpen","Rating","Comments","ReviewModal","facebookIcon","instagramIcon","mailIcon","ShareButtons","Map","DEF_PROPS","Gallery","reportScreen","reportEvent","AppSpinner","CardWrap","UserInfo","FancyTitle","Breadcrumbs","Tags","Page","Content","daysList","propTypes","business","object","func","isLoading","bool","defaultProps","undefined","noop","BusinessPage","Component","constructor","props","s","s2","replace","m","match","time","parsedTime","Date","JSON","parse","stringify","hours","getHours","minutes","getMinutes","state","componentWillMount","friendlyUrl","params","window","location","href","componentWillUnmount","componentDidMount","pathname","getPlaceName","placements","length","subCategories","title","heName","getLocationTitle","locationName","country","renderBusinessHeader","englishName","subSubCategory","description","renderBusinessBody","address","phoneNumber","facebookName","instagramName","websiteUrl","email","scale1","formatPhoneNumber","renderBusinessHours","businessHours","businessHoursObj","map","day","i","hour","j","formatTime","start","end","renderLoader","renderEmptyState","renderInfoSection","render","isReviewModalOpen","link","placeObject","subCategoryObject","isHighlighted","userId","dateCreated","mapStateToProps","BusinessPageReducer","isReviewLoading","mapDispatchToProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,YAAd;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SACEC,GADF,EACOC,GADP,EACYC,IADZ,EACkBC,MADlB,EAC0BC,IAD1B,EACgCC,IADhC,QAEO,MAFP;AAGA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,mCAAtC;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,8BAA1C;AACA,SACEC,wBADF,EAEEC,qBAFF,EAGEC,aAHF,EAIEC,oBAJF,EAKEC,mBALF,EAMEC,iBANF,QAOO,qCAPP;AAQA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAO,cAAP;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,YAAT,QAA6B,cAA7B;AAEA,OAAOC,GAAP,IAAcC,SAAd,QAA+B,kBAA/B;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,iCAA1C;AACA,SACEC,UADF,EACcC,QADd,EACwBC,QADxB,EACkCC,UADlC,QAEO,kBAFP;AAGA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,OAAP,MAAoB,0BAApB,C,CACA;;AACA,MAAMC,QAAQ,GAAG,CAAC,OAAD,EAAU,KAAV,EAAiB,OAAjB,EAA0B,OAA1B,EAAmC,OAAnC,EAA4C,MAA5C,EAAoD,KAApD,CAAjB;AAEA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,QAAQ,EAAE3C,SAAS,CAAC4C,MADJ;AAEhB9B,EAAAA,wBAAwB,EAAEd,SAAS,CAAC6C,IAFpB;AAGhBC,EAAAA,SAAS,EAAE9C,SAAS,CAAC+C;AAHL,CAAlB;AAMA,MAAMC,YAAY,GAAG;AACnBL,EAAAA,QAAQ,EAAEM,SADS;AAEnBnC,EAAAA,wBAAwB,EAAEhB,CAAC,CAACoD,IAFT;AAGnBJ,EAAAA,SAAS,EAAE;AAHQ,CAArB;;AAMA,MAAMK,YAAN,SAA2BtD,KAAK,CAACuD,SAAjC,CAA2C;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,gDAwBGC,CAAD,IAAO;AAC1B,WAAKD,KAAL,CAAWpC,mBAAX,CAA+BqC,CAA/B;AACD,KA1BkB;;AAAA,+CA2DEA,CAAD,IAAO;AACzB,YAAMC,EAAE,GAAI,GAAED,CAAE,EAAL,CAAOE,OAAP,CAAe,KAAf,EAAsB,EAAtB,CAAX;AACA,YAAMC,CAAC,GAAGF,EAAE,CAACG,KAAH,CAAS,yBAAT,CAAV;AACA,aAAO,CAACD,CAAD,GAAK,IAAL,GAAa,IAAGA,CAAC,CAAC,CAAD,CAAI,KAAIA,CAAC,CAAC,CAAD,CAAI,IAAGA,CAAC,CAAC,CAAD,CAAI,EAA7C;AACD,KA/DkB;;AAAA,wCAiELE,IAAD,IAAU;AACrB,YAAMC,UAAU,GAAG,IAAIC,IAAJ,CAASC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,IAAIH,IAAJ,CAASF,IAAT,CAAf,CAAX,CAAT,CAAnB;;AACA,UAAIC,UAAJ,EAAgB;AACd,cAAMK,KAAK,GAAGL,UAAU,CAACM,QAAX,KAAwB,EAAxB,GAA8B,IAAGN,UAAU,CAACM,QAAX,EAAsB,EAAvD,GAA2DN,UAAU,CAACM,QAAX,EAAzE;AACA,cAAMC,OAAO,GAAGP,UAAU,CAACQ,UAAX,KAA0B,EAA1B,GAAgC,IAAGR,UAAU,CAACQ,UAAX,EAAwB,EAA3D,GAA+DR,UAAU,CAACQ,UAAX,EAA/E;AACA,eAAQ,GAAEH,KAAM,IAAGE,OAAQ,EAA3B;AACD;;AACD,aAAO,EAAP;AACD,KAzEkB;;AAAA,+CAgMC,MAAM;AACxB,aAAO,IAAP;AACA,aACE,MAAC,GAAD;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAe,QAAA,IAAI,EAAE,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wHAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,sRAFF,CADF,CADF,EAWE,MAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAe,QAAA,IAAI,EAAE,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;;;;aADJ,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAQI;;;;wBARJ,CAFF,CADF,CAXF,CADF;AAiCD,KAnOkB;;AAEjB,SAAKE,KAAL,GAAa;AACXzD,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGD;;AAED0D,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AAAEC,MAAAA;AAAF,QAAkB,KAAKlB,KAAL,CAAWK,KAAX,CAAiBc,MAAzC;;AACA,QAAI,CAACD,WAAL,EAAkB;AAChBE,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,oBAAvB,CADgB,CAEhB;AACD,KAHD,MAGO;AACL,WAAKtB,KAAL,CAAWxC,wBAAX,CAAoC0D,WAApC;AACD;AACF;;AACDK,EAAAA,oBAAoB,GAAG;AACrB,SAAKvB,KAAL,CAAWnC,iBAAX;AACD;;AAED2D,EAAAA,iBAAiB,GAAG;AAClB/C,IAAAA,YAAY,CAAC4C,QAAQ,CAACI,QAAV,CAAZ;AACD;;AAMD;AACAC,EAAAA,YAAY,CAACrC,QAAD,EAAW;AACrB,QAAI,CAACA,QAAQ,CAACsC,UAAV,IAAwBtC,QAAQ,CAACsC,UAAT,CAAoBC,MAApB,KAA+B,CAA3D,EAA8D,OAAO,IAAP;AAC9D,QAAI,CAACvC,QAAQ,CAACwC,aAAV,IAA2BxC,QAAQ,CAACwC,aAAT,CAAuBD,MAAvB,KAAkC,CAAjE,EAAoE,OAAO,IAAP;AACpE,UAAME,KAAK,GAAI,GAAEzC,QAAQ,CAACwC,aAAT,CAAuB,CAAvB,EAA0BC,KAAM,KAAIzC,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBI,MAAO,IAAnF,CAHqB,CAIrB;AACA;AACA;;AACA,WAAOD,KAAP;AACD;;AAEDE,EAAAA,gBAAgB,CAAC3C,QAAD,EAAW;AACzB,QAAI,CAACA,QAAD,IAAa,CAACA,QAAQ,CAACsC,UAAvB,IAAqCtC,QAAQ,CAACsC,UAAT,CAAoBC,MAApB,KAA+B,CAAxE,EAA2E,OAAO,EAAP;AAE3E,UAAMK,YAAY,GAAG5C,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBI,MAA5C,CAHyB,CAIzB;AACA;AACA;;AAEA,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,YADH,OAGG,GAHH,CADF,EAMG5C,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBO,OAAvB,IAAkC7C,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBO,OAAvB,CAA+BH,MANpE,CADF;AAUD;;AAkBDI,EAAAA,oBAAoB,GAAG;AACrB,UAAM;AAAE9C,MAAAA;AAAF,QAAe,KAAKW,KAA1B;AACA,QAAI,CAACX,QAAL,EAAe,OAAO,IAAP;AACf,UAAM;AAAE+C,MAAAA,WAAF;AAAeC,MAAAA,cAAf;AAA+BC,MAAAA;AAA/B,QAA+CjD,QAArD;AACA,WACE,MAAC,IAAD;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BiD,WAA9B,CAFF,CADF,EAME;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAI,MAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BD,cAA9B,CAFF,CANF,CAFF,CADF;AAkBD;;AAEDE,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AACJlD,MAAAA,QAAQ,EAAE;AACRmD,QAAAA,OADQ;AAERC,QAAAA,WAFQ;AAGRC,QAAAA,YAHQ;AAIRC,QAAAA,aAJQ;AAKRC,QAAAA,UALQ;AAMRC,QAAAA,KANQ;AAORC,QAAAA,MAPQ;AAQRzB,QAAAA;AARQ;AADN,QAWF,KAAKrB,KAXT;AAYA,WACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,GAAD;AAAK,MAAA,SAAS,EAAC,OAAf;AAAuB,MAAA,IAAI,EAAE,CAA7B;AAAgC,MAAA,IAAI,EAAE,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAIE,MAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,IAAI,EAAE,EAA5B;AAAgC,MAAA,IAAI,EAAE,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6B,KAAK+C,iBAAL,CAAuBN,WAAvB,CAA7B,CADF,EAGE,MAAC,GAAD;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGG,UAAU,IACT;AAAG,MAAA,SAAS,EAAC,cAAb;AAA4B,MAAA,IAAI,EAAEA,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,EAMGF,YAAY,IACX;AACE,MAAA,MAAM,EAAC,QADT;AAEE,MAAA,SAAS,EAAC,UAFZ;AAGE,MAAA,IAAI,EAAG,wBAAuBA,YAAa,EAH7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME;AAAK,MAAA,GAAG,EAAExE,YAAV;AAAwB,MAAA,GAAG,EAAEwE,YAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAPJ,EAgBGC,aAAa,IACZ;AACE,MAAA,MAAM,EAAC,QADT;AAEE,MAAA,SAAS,EAAC,WAFZ;AAGE,MAAA,IAAI,EAAG,yBAAwBA,aAAc,EAH/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAK,MAAA,GAAG,EAAExE,aAAV;AAAyB,MAAA,GAAG,EAAEwE,aAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAjBJ,EAyBGE,KAAK,IACJ;AAAG,MAAA,SAAS,EAAC,MAAb;AAAoB,MAAA,IAAI,EAAG,UAASA,KAAM,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAEzE,QAAV;AAAoB,MAAA,GAAG,EAAEyE,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA1BJ,CAHF,CAJF,CADF,EAyCE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzCF,CADF;AAmDD;;AAEDG,EAAAA,mBAAmB,GAAG;AACpB,UAAM;AACJ3D,MAAAA,QAAQ,EAAE;AAAE4D,QAAAA;AAAF;AADN,QAEF,KAAKjD,KAFT;AAGA,QAAI,CAACiD,aAAL,EAAoB,OAAO,IAAP;AACpB,UAAMC,gBAAgB,GAAGzC,IAAI,CAACC,KAAL,CAAWuC,aAAX,CAAzB;AACA,WACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uEADF,EAEGC,gBAAgB,CAACC,GAAjB,CAAqB,CAACC,GAAD,EAAMC,CAAN,KACpB,MAAC,GAAD;AAAK,MAAA,GAAG,EAAG,MAAKA,CAAE,EAAlB;AAAqB,MAAA,SAAS,EAAC,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,GAAG,CAACxB,MAAJ,GAAa,CAAb,IACIwB,GAAG,CAACD,GAAJ,CAAQ,CAACG,IAAD,EAAOD,CAAC,GAAGE,CAAX,KACT;AAAM,MAAA,GAAG,EAAG,MAAKF,CAAE,QAAOC,IAAK,EAA/B;AAAkC,MAAA,SAAS,EAAC,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,GAAE,CAACD,CAAC,GAAG,CAAJ,GAAQ,IAAR,GAAe,EAAhB,IAAsB,KAAKG,UAAL,CAAgBF,IAAI,CAACG,KAArB,CAA4B,IAAG,KAAKD,UAAL,CACvDF,IAAI,CAACI,GADkD,CAEvD,EAHJ,CADC,CAFP,EASGN,GAAG,CAACxB,MAAJ,KAAe,CAAf,IAAoB;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCATvB,EAUE;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBzC,QAAQ,CAACkE,CAAD,CAA/B,CAVF,CADD,CAFH,CADF;AAmBD;;AAuCDM,EAAAA,YAAY,GAAG;AACb,WACE,MAAC,OAAD;AAAS,MAAA,SAAS,EAAC,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD;;AAEDC,EAAAA,gBAAgB,GAAG;AACjB,WACE,MAAC,OAAD;AAAS,MAAA,SAAS,EAAC,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8HADF,EAEG,KAAKC,iBAAL,EAFH,CADF;AAMD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEtE,MAAAA,SAAF;AAAaH,MAAAA,QAAb;AAAuB0E,MAAAA;AAAvB,QAA6C,KAAK/D,KAAxD;AAEA,QAAIR,SAAJ,EAAe,OAAO,KAAKmE,YAAL,EAAP;AACf,QAAI,CAACnE,SAAD,IAAc,CAACH,QAAnB,EAA6B,OAAO,KAAKuE,gBAAL,EAAP;AAC7B,WACE,MAAC,IAAD;AAAM,MAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,UAAD;AACE,MAAA,gBAAgB,EAAEvE,QAAQ,CAAC+C,WAD7B;AAEE,MAAA,YAAY,EAAE,KAAKV,YAAL,CAAkBrC,QAAlB,CAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAKE,MAAC,WAAD;AACE,MAAA,KAAK,EAAE,CACL;AACE2E,QAAAA,IAAI,EAAE,EADR;AAEElC,QAAAA,KAAK,EAAEzC,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBO,OAAvB,CAA+BH,MAFxC;AAGEkC,QAAAA,WAAW,EAAE5E,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBO;AAHtC,OADK,EAML;AACE8B,QAAAA,IAAI,EAAE,EADR;AAEElC,QAAAA,KAAK,EAAEzC,QAAQ,CAACsC,UAAT,CAAoB,CAApB,EAAuBI,MAFhC;AAGEkC,QAAAA,WAAW,EAAE5E,QAAQ,CAACsC,UAAT,CAAoB,CAApB;AAHf,OANK,EAWL;AACEqC,QAAAA,IAAI,EAAE,EADR;AAEElC,QAAAA,KAAK,EAAEzC,QAAQ,CAACwC,aAAT,CAAuB,CAAvB,EAA0BC,KAFnC;AAGEoC,QAAAA,iBAAiB,EAAE7E,QAAQ,CAACwC,aAAT,CAAuB,CAAvB,CAHrB;AAIEoC,QAAAA,WAAW,EAAE5E,QAAQ,CAACsC,UAAT,CAAoB,CAApB;AAJf,OAXK,EAiBL;AACEqC,QAAAA,IAAI,EAAE,EADR;AAEElC,QAAAA,KAAK,EAAEzC,QAAQ,CAAC+C,WAFlB;AAGE+B,QAAAA,aAAa,EAAE;AAHjB,OAjBK,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EA8BE,MAAC,IAAD,eAAU,KAAKnE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA9BF,EA+BE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/BF,EAiCE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGX,QAAQ,IACP,MAAC,QAAD;AACE,MAAA,WAAW,EAAEA,QAAQ,CAAC+E,MADxB;AAEE,MAAA,wBAAwB,EAAG,GAAE9G,eAAe,CAAC+B,QAAQ,CAACgF,WAAV,CAAuB,EAFrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAOE,MAAC,YAAD,eAAkB,KAAKrE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAPF,CAjCF,EA0CG,KAAKmC,oBAAL,EA1CH,EA2CE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,OAAD,eAAa,KAAKnC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,EAEE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,eAAD;AAAiB,MAAA,SAAS,EAAC,cAA3B;AAA0C,MAAA,IAAI,EAAE3C,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEG,KAAK2E,gBAAL,CAAsB3C,QAAtB,CAFH,CADF,EAKGA,QAAQ,IAAIA,QAAQ,CAACmD,OAArB,IACC,MAAC,GAAD;AAAK,MAAA,aAAa,MAAlB;AAAmB,MAAA,QAAQ,EAAEnD,QAAQ,CAACgC;AAAtC,OAAoD9C,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OANJ,CAFF,CA3CF,EAwDG,KAAKsF,iBAAL,EAxDH,CADF,CADF;AAoED;;AAhUwC;;AAmU3ChE,YAAY,CAACT,SAAb,GAAyBA,SAAzB;AACAS,YAAY,CAACH,YAAb,GAA4BA,YAA5B;;AAEA,MAAM4E,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA6B;AACnD,QAAM;AACJlF,IAAAA,QADI;AACMG,IAAAA,SADN;AACiBuE,IAAAA,iBADjB;AACoCS,IAAAA;AADpC,MAEFD,mBAFJ;AAGA,SAAO;AACLlF,IAAAA,QADK;AAELG,IAAAA,SAFK;AAGLuE,IAAAA,iBAHK;AAILS,IAAAA;AAJK,GAAP;AAMD,CAVD;;AAWA,MAAMC,kBAAkB,GAAG;AACzBjH,EAAAA,wBADyB;AAEzBE,EAAAA,aAFyB;AAGzBC,EAAAA,oBAHyB;AAIzBC,EAAAA,mBAJyB;AAKzBH,EAAAA,qBALyB;AAMzBI,EAAAA;AANyB,CAA3B;AASA,eAAepB,OAAO,CAAC6H,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C5E,YAA7C,CAAf","sourcesContent":["import React from 'react';\nimport _ from 'underscore';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport MetaTags from 'react-meta-tags';\nimport Button from 'antd/lib/button';\nimport {\n  Row, Col, Rate, Layout, Card, Icon,\n} from 'antd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapPin, faMapMarker } from '@fortawesome/free-solid-svg-icons';\nimport { getFriendlyTime, isMobile } from '../../services/commonService';\nimport {\n  getBusinessByFriendlyUrl,\n  setReviewLoadingState,\n  setEmptyState,\n  submitBusinessReview,\n  setReviewModalState,\n  cleanBusinessPage,\n} from '../../reducers/BusinessPage/actions';\nimport CurrentlyOpen from './Components/CurrentlyOpen';\nimport Rating from './Components/Rating';\nimport './index.scss';\nimport Comments from './Components/Comments';\nimport ReviewModal from './Components/ReviewModal';\nimport facebookIcon from '../../img/facebook-icon.png';\nimport instagramIcon from '../../img/instagram-icon.png';\nimport mailIcon from '../../img/mail-icon.png';\nimport { ShareButtons } from './Components';\n\nimport Map, { DEF_PROPS } from './Components/Map';\nimport Gallery from './Components/Gallery';\n\nimport { reportScreen, reportEvent } from '../../services/analyticsService';\nimport {\n  AppSpinner, CardWrap, UserInfo, FancyTitle,\n} from '../../components';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Tags from './Components/Tags';\nimport Page from '../../components/Page';\nimport Content from '../../components/Content';\n// const { Content } = Layout;\nconst daysList = ['ראשון', 'שני', 'שלישי', 'רביעי', 'חמישי', 'שישי', 'שבת'];\n\nconst propTypes = {\n  business: PropTypes.object,\n  getBusinessByFriendlyUrl: PropTypes.func,\n  isLoading: PropTypes.bool,\n};\n\nconst defaultProps = {\n  business: undefined,\n  getBusinessByFriendlyUrl: _.noop,\n  isLoading: true,\n};\n\nclass BusinessPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: false,\n    };\n  }\n\n  componentWillMount() {\n    const { friendlyUrl } = this.props.match.params;\n    if (!friendlyUrl) {\n      window.location.href = 'https://mymapo.com';\n      // this.props.setEmptyState();\n    } else {\n      this.props.getBusinessByFriendlyUrl(friendlyUrl);\n    }\n  }\n  componentWillUnmount() {\n    this.props.cleanBusinessPage();\n  }\n\n  componentDidMount() {\n    reportScreen(location.pathname);\n  }\n\n  onModalStateChange = (s) => {\n    this.props.setReviewModalState(s);\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getPlaceName(business) {\n    if (!business.placements || business.placements.length === 0) return null;\n    if (!business.subCategories || business.subCategories.length === 0) return null;\n    const title = `${business.subCategories[0].title} ב${business.placements[0].heName} -`;\n    // if (business.placements[0].country) {\n    //   title += `, ${business.placements[0].country.heName}`;\n    // }\n    return title;\n  }\n\n  getLocationTitle(business) {\n    if (!business || !business.placements || business.placements.length === 0) return '';\n\n    const locationName = business.placements[0].heName;\n    // if (business.placements[0].country) {\n    //   locationName += `, <b>${business.placements[0].country.heName}</b>`;\n    // }\n\n    return (\n      <div className=\"address\">\n        <b>\n          {locationName}\n,\n          {' '}\n        </b>\n        {business.placements[0].country && business.placements[0].country.heName}\n      </div>\n    );\n  }\n\n  formatPhoneNumber = (s) => {\n    const s2 = `${s}`.replace(/\\D/g, '');\n    const m = s2.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return !m ? null : `(${m[1]}) ${m[2]}-${m[3]}`;\n  };\n\n  formatTime = (time) => {\n    const parsedTime = new Date(JSON.parse(JSON.stringify(new Date(time))));\n    if (parsedTime) {\n      const hours = parsedTime.getHours() < 10 ? `0${parsedTime.getHours()}` : parsedTime.getHours();\n      const minutes = parsedTime.getMinutes() < 10 ? `0${parsedTime.getMinutes()}` : parsedTime.getMinutes();\n      return `${hours}:${minutes}`;\n    }\n    return '';\n  };\n\n  renderBusinessHeader() {\n    const { business } = this.props;\n    if (!business) return null;\n    const { englishName, subSubCategory, description } = business;\n    return (\n      <Card className=\"business-header\">\n        {/* <Row className=\"row\"> */}\n        <div className=\"row\">\n          <div className=\"right\">\n            {/* <CurrentlyOpen business={business} /> */}\n            <div className=\"description\">{description}</div>\n            {/* <Button className=\"share-button\">שלח לחבר</Button> */}\n          </div>\n          <div className=\"left\">\n            {/* <h1 className=\"title\">{englishName}</h1> */}\n            <h4 className=\"sub-category\">{subSubCategory}</h4>\n            {/* <Rating disabled business={business} /> */}\n          </div>\n        </div>\n        {/* </Row> */}\n      </Card>\n    );\n  }\n\n  renderBusinessBody() {\n    const {\n      business: {\n        address,\n        phoneNumber,\n        facebookName,\n        instagramName,\n        websiteUrl,\n        email,\n        scale1,\n        location,\n      },\n    } = this.props;\n    return (\n      <div className=\"business-body\">\n        <Row>\n          <Col className=\"right\" span={8} push={16}>\n            {/* {this.renderBusinessHours()} */}\n          </Col>\n          <Col className=\"left\" span={10} pull={8}>\n            <p className=\"phone-number\">{this.formatPhoneNumber(phoneNumber)}</p>\n\n            <Row className=\"social\">\n              {websiteUrl && (\n                <a className=\"website-link\" href={websiteUrl}>\n                  website\n                </a>\n              )}\n              {facebookName && (\n                <a\n                  target=\"_blank\"\n                  className=\"facebook\"\n                  href={`https://facebook.com/${facebookName}`}\n                >\n                  {/* <img src={facebookIcon} /> */}\n                  <img src={facebookIcon} alt={facebookName} />\n                </a>\n              )}\n              {instagramName && (\n                <a\n                  target=\"_blank\"\n                  className=\"instagram\"\n                  href={`https://instagram.com/${instagramName}`}\n                >\n                  <img src={instagramIcon} alt={instagramName} />\n                </a>\n              )}\n              {email && (\n                <a className=\"mail\" href={`mailto:${email}`}>\n                  <img src={mailIcon} alt={email} />\n                </a>\n              )}\n            </Row>\n          </Col>\n        </Row>\n        <Row>\n          {/* <div className=\"address-wrapper\">\n            <FontAwesomeIcon className=\"address-icon\" icon={faMapMarker} />\n            <span className=\"address\">{address}</span>\n          </div>\n          <Map isMarkerShown location={location} {...DEF_PROPS} /> */}\n        </Row>\n      </div>\n    );\n  }\n\n  renderBusinessHours() {\n    const {\n      business: { businessHours },\n    } = this.props;\n    if (!businessHours) return null;\n    const businessHoursObj = JSON.parse(businessHours);\n    return (\n      <div className=\"business-hours\">\n        <h1>שעות פעילות</h1>\n        {businessHoursObj.map((day, i) => (\n          <Row key={`day${i}`} className=\"hour-row\">\n            {day.length > 0\n              && day.map((hour, i = j) => (\n                <span key={`day${i}-hour${hour}`} className=\"hour\">\n                  {`${(i > 0 ? ', ' : '') + this.formatTime(hour.start)}-${this.formatTime(\n                    hour.end,\n                  )}`}\n                </span>\n              ))}\n            {day.length === 0 && <span className=\"hour\">סגור</span>}\n            <span className=\"day\">{daysList[i]}</span>\n          </Row>\n        ))}\n      </div>\n    );\n  }\n\n  renderInfoSection = () => {\n    return null;\n    return (\n      <Row className=\"info-wrapper\">\n        <Col span={12} push={12}>\n          <div className=\"info-item\">\n            <h1>בעל עסק?</h1>\n            <p>\n              מחפש לקדם את העסק שלך?\n              <br />\n              אצלנו תקבל הזדמנות לחשיפה ענקית ופרסום לבית העסק שלך.\n            </p>\n          </div>\n        </Col>\n        <Col span={12} pull={12}>\n          <div className=\"info-item\">\n            <h1>מה זה Mapo?</h1>\n            <p>\n              {`עברת ללוס אנג'לס?\n\nמחפש רופא? או אולי עורך דין טוב? הקושי של השפה מקשה עלייך?\n\nאתה לא לבד! `}\n              <br />\n\n              {`בשביל זה אנחנו פה.\n\nאנחנו בMapo דואגים לספק לך את כל העסקים\n\nונותני השירות הישראלים.`}\n            </p>\n          </div>\n        </Col>\n      </Row>\n    );\n  };\n\n  renderLoader() {\n    return (\n      <Content className=\"business-page loader\">\n        <AppSpinner />\n      </Content>\n    );\n  }\n\n  renderEmptyState() {\n    return (\n      <Content className=\"business-page\">\n        <h1 className=\"general-title\">מטיילים ישראלים בחו״ל</h1>\n        {this.renderInfoSection()}\n      </Content>\n    );\n  }\n\n  render() {\n    const { isLoading, business, isReviewModalOpen } = this.props;\n\n    if (isLoading) return this.renderLoader();\n    if (!isLoading && !business) return this.renderEmptyState();\n    return (\n      <Page className=\"business-page\">\n        <Content>\n          <FancyTitle\n            highlightedTitle={business.englishName}\n            regularTitle={this.getPlaceName(business)}\n          />\n          <Breadcrumbs\n            items={[\n              {\n                link: '',\n                title: business.placements[0].country.heName,\n                placeObject: business.placements[0].country,\n              },\n              {\n                link: '',\n                title: business.placements[0].heName,\n                placeObject: business.placements[0],\n              },\n              {\n                link: '',\n                title: business.subCategories[0].title,\n                subCategoryObject: business.subCategories[0],\n                placeObject: business.placements[0],\n              },\n              {\n                link: '',\n                title: business.englishName,\n                isHighlighted: true,\n              },\n            ]}\n          />\n          <Tags {...this.props} />\n          <div className=\"header-color\" />\n\n          <div className=\"info-and-share\">\n            {business && (\n              <UserInfo\n                userDetails={business.userId}\n                additionalSecondaryTitle={`${getFriendlyTime(business.dateCreated)}`}\n              />\n            )}\n            <ShareButtons {...this.props} />\n          </div>\n          {this.renderBusinessHeader()}\n          <div className=\"cubes-row\">\n            <Gallery {...this.props} />\n            <CardWrap>\n              <div className=\"address-wrapper\">\n                <FontAwesomeIcon className=\"address-icon\" icon={faMapMarker} />\n                {this.getLocationTitle(business)}\n              </div>\n              {business && business.address && (\n                <Map isMarkerShown location={business.location} {...DEF_PROPS} />\n              )}\n            </CardWrap>\n          </div>\n          {/* <Comments business={business} onAddClick={() => this.onModalStateChange(true)} /> */}\n          {this.renderInfoSection()}\n        </Content>\n        {/* <ReviewModal\n          isOpen={isReviewModalOpen}\n          onCloseClick={() => this.onModalStateChange(false)}\n          {...this.props}\n          onClose={this.onModalStateChange}\n        /> */}\n      </Page>\n    );\n  }\n}\n\nBusinessPage.propTypes = propTypes;\nBusinessPage.defaultProps = defaultProps;\n\nconst mapStateToProps = ({ BusinessPageReducer }) => {\n  const {\n    business, isLoading, isReviewModalOpen, isReviewLoading,\n  } = BusinessPageReducer;\n  return {\n    business,\n    isLoading,\n    isReviewModalOpen,\n    isReviewLoading,\n  };\n};\nconst mapDispatchToProps = {\n  getBusinessByFriendlyUrl,\n  setEmptyState,\n  submitBusinessReview,\n  setReviewModalState,\n  setReviewLoadingState,\n  cleanBusinessPage,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BusinessPage);\n"]},"metadata":{},"sourceType":"module"}