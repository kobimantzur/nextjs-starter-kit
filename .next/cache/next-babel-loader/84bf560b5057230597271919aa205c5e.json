{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport moment from 'moment';\nexport var isMobile = function isMobile() {\n  try {\n    if (!navigator) return false;\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  } catch (e) {\n    return false;\n  }\n};\nexport var setCookie = function setCookie(name, value, days) {\n  var expires = '';\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\".concat(date.toUTCString());\n  }\n\n  document.cookie = \"\".concat(name, \"=\").concat(value || '').concat(expires, \"; path=/\");\n};\nexport var getCookie = function getCookie(name) {\n  var nameEQ = \"\".concat(name, \"=\");\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1, c.length);\n    }\n\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n};\nexport var getFriendlyTime = function getFriendlyTime(date) {\n  if (!date) {\n    return '';\n  }\n\n  var parsedDate = new Date(JSON.parse(_JSON$stringify(new Date(date))));\n  var delta = Math.round((+new Date() - parsedDate) / 1000);\n  var minute = 60;\n  var hour = minute * 60;\n  var day = hour * 24;\n  var fuzzy;\n\n  if (delta < 30) {\n    fuzzy = 'הרגע';\n  } else if (delta < minute) {\n    fuzzy = \"\\u05DC\\u05E4\\u05E0\\u05D9 \".concat(delta, \" \\u05E9\\u05E0\\u05D9\\u05D5\\u05EA\");\n  } else if (delta < 2 * minute) {\n    fuzzy = 'לפני כדקה';\n  } else if (delta < hour) {\n    fuzzy = \"\\u05DC\\u05E4\\u05E0\\u05D9 \".concat(Math.floor(delta / minute), \" \\u05D3\\u05E7\\u05D5\\u05EA\");\n  } else if (Math.floor(delta / hour) === 1) {\n    fuzzy = 'לפני כשעה';\n  } else if (delta < day) {\n    fuzzy = \"\\u05DC\\u05E4\\u05E0\\u05D9 \".concat(Math.floor(delta / hour), \" \\u05E9\\u05E2\\u05D5\\u05EA\");\n  } else if (delta < day * 2) {\n    fuzzy = 'אתמול';\n  } else {\n    fuzzy = moment(parsedDate).format('DD/MM/YYYY');\n  }\n\n  return fuzzy;\n};","map":{"version":3,"sources":["/Users/kobimantzur/mapo/web/src/services/commonService.js"],"names":["moment","isMobile","navigator","test","userAgent","e","setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","getCookie","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","getFriendlyTime","parsedDate","JSON","parse","delta","Math","round","minute","hour","day","fuzzy","floor","format"],"mappings":"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","sourcesContent":["import moment from 'moment';\n\nexport const isMobile = () => {\n  try {\n    if (!navigator) return false;\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n  } catch (e) {\n    return false;\n  }\n};\n\nexport const setCookie = (name, value, days) => {\n  let expires = '';\n  if (days) {\n    const date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = `; expires=${date.toUTCString()}`;\n  }\n  document.cookie = `${name}=${value || ''}${expires}; path=/`;\n};\n\nexport const getCookie = name => {\n  const nameEQ = `${name}=`;\n  const ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n  return null;\n};\n\nexport const getFriendlyTime = date => {\n  if (!date) {\n    return '';\n  }\n  const parsedDate = new Date(JSON.parse(JSON.stringify(new Date(date))));\n  const delta = Math.round((+new Date() - parsedDate) / 1000);\n  const minute = 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  let fuzzy;\n\n  if (delta < 30) {\n    fuzzy = 'הרגע';\n  } else if (delta < minute) {\n    fuzzy = `לפני ${delta} שניות`;\n  } else if (delta < 2 * minute) {\n    fuzzy = 'לפני כדקה';\n  } else if (delta < hour) {\n    fuzzy = `לפני ${Math.floor(delta / minute)} דקות`;\n  } else if (Math.floor(delta / hour) === 1) {\n    fuzzy = 'לפני כשעה';\n  } else if (delta < day) {\n    fuzzy = `לפני ${Math.floor(delta / hour)} שעות`;\n  } else if (delta < day * 2) {\n    fuzzy = 'אתמול';\n  } else {\n    fuzzy = moment(parsedDate).format('DD/MM/YYYY');\n  }\n  return fuzzy;\n};\n"]},"metadata":{},"sourceType":"module"}