{"ast":null,"code":"var __jsx = React.createElement;\nimport { Layout as AntLayout, Drawer, Button } from 'antd';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport SearchBar from '../../../../containers/SearchPage/Components/SearchBar';\nimport { setSearchModalState } from '../../../../reducers/Search/actions';\nimport './index.scss';\nimport { isMobile } from '../../../../services/commonService';\nimport Menu from '../Menu';\nconst PLACEHOLDER_TEXT = 'חפשו במאפו';\nconst {\n  Header\n} = AntLayout;\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', () => {\n      let activeClass = '';\n\n      if (window.scrollY > this.vw(15)) {\n        activeClass = 'scrolled';\n      }\n\n      this.setState({\n        activeClass\n      });\n    });\n  }\n\n  vw(v) {\n    const w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    return v * w / 100;\n  }\n\n  render() {\n    const {\n      isFocused,\n      activeClass\n    } = this.state;\n    const {\n      isLoading,\n      selectedPlace,\n      selectedSubCategory\n    } = this.props;\n    const searchTerm = selectedPlace && selectedSubCategory ? `${selectedSubCategory.title} ב${selectedPlace.heName}` : '';\n    return __jsx(Header, {\n      className: `header ${isFocused ? 'on-focus' : ''} ${activeClass}`\n    }, __jsx(\"div\", {\n      className: \"right\"\n    }, __jsx(Menu, this.props), __jsx(\"div\", {\n      className: \"search-bar-preview\",\n      onClick: () => this.props.setSearchModalState(true)\n    }, !isMobile() && __jsx(\"span\", null, PLACEHOLDER_TEXT), __jsx(\"i\", {\n      className: \"fa fa-search\"\n    }))), __jsx(\"div\", {\n      className: \"left\"\n    }, __jsx(\"a\", {\n      href: \"/\"\n    }, __jsx(\"img\", {\n      alt: \"Mapo\",\n      className: \"logo\",\n      src: '/static/img/logo-white.png'\n    }))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  SearchReducer\n}) => {\n  const {\n    selectedPlace,\n    selectedSubCategory,\n    isLoading\n  } = SearchReducer;\n  return {\n    isLoading,\n    selectedPlace,\n    selectedSubCategory\n  };\n};\n\nconst mapDispatchToProps = {\n  setSearchModalState\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AppHeader);","map":{"version":3,"sources":["/Users/kobimantzur/mapo/web/src/components/Layout/Components/AppHeader/index.js"],"names":["Layout","AntLayout","Drawer","Button","connect","React","Component","SearchBar","setSearchModalState","isMobile","Menu","PLACEHOLDER_TEXT","Header","AppHeader","constructor","props","state","isFocused","componentDidMount","window","addEventListener","activeClass","scrollY","vw","setState","v","w","Math","max","document","documentElement","clientWidth","innerWidth","render","isLoading","selectedPlace","selectedSubCategory","searchTerm","title","heName","mapStateToProps","SearchReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import { Layout as AntLayout, Drawer, Button } from 'antd';\n\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport SearchBar from '../../../../containers/SearchPage/Components/SearchBar';\nimport { setSearchModalState } from '../../../../reducers/Search/actions';\nimport './index.scss';\nimport { isMobile } from '../../../../services/commonService';\nimport Menu from '../Menu';\n\nconst PLACEHOLDER_TEXT = 'חפשו במאפו';\nconst { Header } = AntLayout;\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', () => {\n      let activeClass = '';\n      if (window.scrollY > this.vw(15)) {\n        activeClass = 'scrolled';\n      }\n      this.setState({ activeClass });\n    });\n  }\n\n  vw(v) {\n    const w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    return (v * w) / 100;\n  }\n\n  render() {\n    const { isFocused, activeClass } = this.state;\n    const { isLoading, selectedPlace, selectedSubCategory } = this.props;\n    const searchTerm =\n      selectedPlace && selectedSubCategory\n        ? `${selectedSubCategory.title} ב${selectedPlace.heName}`\n        : '';\n    return (\n      <Header className={`header ${isFocused ? 'on-focus' : ''} ${activeClass}`}>\n        <div className=\"right\">\n        <Menu {...this.props} />\n        <div className=\"search-bar-preview\" onClick={() => this.props.setSearchModalState(true)}>\n            {!isMobile() && <span>{PLACEHOLDER_TEXT}</span>}\n            <i className=\"fa fa-search\" />\n          </div>\n\n          \n        </div>\n        <div className=\"left\">\n        <a href=\"/\">\n            <img alt=\"Mapo\" className=\"logo\" src={'/static/img/logo-white.png'} />\n          </a>\n        </div>\n      </Header>\n    );\n  }\n}\nconst mapStateToProps = ({ SearchReducer }) => {\n  const { selectedPlace, selectedSubCategory, isLoading } = SearchReducer;\n  return {\n    isLoading,\n    selectedPlace,\n    selectedSubCategory\n  };\n};\nconst mapDispatchToProps = {\n  setSearchModalState\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AppHeader);\n"]},"metadata":{},"sourceType":"module"}