{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kobi.mantzur/m/n/src/containers/BusinessPage/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport _ from 'underscore';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'antd/lib/button';\nimport { Row, Col, Rate, Layout, Card, Icon } from 'antd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapPin, faMapMarker } from '@fortawesome/free-solid-svg-icons';\nimport { getFriendlyTime, isMobile } from '../../services/commonService';\nimport { getBusinessByFriendlyUrl, setReviewLoadingState, setEmptyState, submitBusinessReview, setReviewModalState, cleanBusinessPage } from '../../reducers/BusinessPage/actions';\nimport CurrentlyOpen from './Components/CurrentlyOpen';\nimport Rating from './Components/Rating';\nimport './index.scss';\nimport Comments from './Components/Comments';\nimport ReviewModal from './Components/ReviewModal';\nimport facebookIcon from '../../img/facebook-icon.png';\nimport instagramIcon from '../../img/instagram-icon.png';\nimport mailIcon from '../../img/mail-icon.png';\nimport { ShareButtons } from './Components';\nimport Map, { DEF_PROPS } from './Components/Map';\nimport Gallery from './Components/Gallery';\nimport { reportScreen, reportEvent } from '../../services/analyticsService';\nimport { AppSpinner, CardWrap, UserInfo, FancyTitle } from '../../components';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Tags from './Components/Tags';\nimport Page from '../../components/Page';\nimport Content from '../../components/Content'; // const { Content } = Layout;\n\nvar daysList = ['ראשון', 'שני', 'שלישי', 'רביעי', 'חמישי', 'שישי', 'שבת'];\nvar propTypes = {\n  business: PropTypes.object,\n  getBusinessByFriendlyUrl: PropTypes.func,\n  isLoading: PropTypes.bool\n};\nvar defaultProps = {\n  business: undefined,\n  getBusinessByFriendlyUrl: _.noop,\n  isLoading: true\n};\n\nvar BusinessPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BusinessPage, _React$Component);\n\n  function BusinessPage(props) {\n    var _this;\n\n    _classCallCheck(this, BusinessPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BusinessPage).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onModalStateChange\", function (s) {\n      _this.props.setReviewModalState(s);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatPhoneNumber\", function (s) {\n      var s2 = \"\".concat(s).replace(/\\D/g, '');\n      var m = s2.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n      return !m ? null : \"(\".concat(m[1], \") \").concat(m[2], \"-\").concat(m[3]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatTime\", function (time) {\n      var parsedTime = new Date(JSON.parse(_JSON$stringify(new Date(time))));\n\n      if (parsedTime) {\n        var hours = parsedTime.getHours() < 10 ? \"0\".concat(parsedTime.getHours()) : parsedTime.getHours();\n        var minutes = parsedTime.getMinutes() < 10 ? \"0\".concat(parsedTime.getMinutes()) : parsedTime.getMinutes();\n        return \"\".concat(hours, \":\").concat(minutes);\n      }\n\n      return '';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderInfoSection\", function () {\n      return null;\n      return __jsx(Row, {\n        className: \"info-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, __jsx(Col, {\n        span: 12,\n        push: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"info-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"\\u05D1\\u05E2\\u05DC \\u05E2\\u05E1\\u05E7?\"), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"\\u05DE\\u05D7\\u05E4\\u05E9 \\u05DC\\u05E7\\u05D3\\u05DD \\u05D0\\u05EA \\u05D4\\u05E2\\u05E1\\u05E7 \\u05E9\\u05DC\\u05DA?\", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }), \"\\u05D0\\u05E6\\u05DC\\u05E0\\u05D5 \\u05EA\\u05E7\\u05D1\\u05DC \\u05D4\\u05D6\\u05D3\\u05DE\\u05E0\\u05D5\\u05EA \\u05DC\\u05D7\\u05E9\\u05D9\\u05E4\\u05D4 \\u05E2\\u05E0\\u05E7\\u05D9\\u05EA \\u05D5\\u05E4\\u05E8\\u05E1\\u05D5\\u05DD \\u05DC\\u05D1\\u05D9\\u05EA \\u05D4\\u05E2\\u05E1\\u05E7 \\u05E9\\u05DC\\u05DA.\"))), __jsx(Col, {\n        span: 12,\n        pull: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"info-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"\\u05DE\\u05D4 \\u05D6\\u05D4 Mapo?\"), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"\\u05E2\\u05D1\\u05E8\\u05EA \\u05DC\\u05DC\\u05D5\\u05E1 \\u05D0\\u05E0\\u05D2'\\u05DC\\u05E1?\\n\\n\\u05DE\\u05D7\\u05E4\\u05E9 \\u05E8\\u05D5\\u05E4\\u05D0? \\u05D0\\u05D5 \\u05D0\\u05D5\\u05DC\\u05D9 \\u05E2\\u05D5\\u05E8\\u05DA \\u05D3\\u05D9\\u05DF \\u05D8\\u05D5\\u05D1? \\u05D4\\u05E7\\u05D5\\u05E9\\u05D9 \\u05E9\\u05DC \\u05D4\\u05E9\\u05E4\\u05D4 \\u05DE\\u05E7\\u05E9\\u05D4 \\u05E2\\u05DC\\u05D9\\u05D9\\u05DA?\\n\\n\\u05D0\\u05EA\\u05D4 \\u05DC\\u05D0 \\u05DC\\u05D1\\u05D3! \", __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }), \"\\u05D1\\u05E9\\u05D1\\u05D9\\u05DC \\u05D6\\u05D4 \\u05D0\\u05E0\\u05D7\\u05E0\\u05D5 \\u05E4\\u05D4.\\n\\n\\u05D0\\u05E0\\u05D7\\u05E0\\u05D5 \\u05D1Mapo \\u05D3\\u05D5\\u05D0\\u05D2\\u05D9\\u05DD \\u05DC\\u05E1\\u05E4\\u05E7 \\u05DC\\u05DA \\u05D0\\u05EA \\u05DB\\u05DC \\u05D4\\u05E2\\u05E1\\u05E7\\u05D9\\u05DD\\n\\n\\u05D5\\u05E0\\u05D5\\u05EA\\u05E0\\u05D9 \\u05D4\\u05E9\\u05D9\\u05E8\\u05D5\\u05EA \\u05D4\\u05D9\\u05E9\\u05E8\\u05D0\\u05DC\\u05D9\\u05DD.\"))));\n    });\n\n    _this.state = {\n      isMobile: false\n    };\n    return _this;\n  }\n\n  _createClass(BusinessPage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var friendlyUrl = this.props.match.params.friendlyUrl;\n\n      if (!friendlyUrl) {\n        window.location.href = 'https://mymapo.com'; // this.props.setEmptyState();\n      } else {\n        this.props.getBusinessByFriendlyUrl(friendlyUrl);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.cleanBusinessPage();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      reportScreen(location.pathname);\n    }\n  }, {\n    key: \"getPlaceName\",\n    // eslint-disable-next-line class-methods-use-this\n    value: function getPlaceName(business) {\n      if (!business.placements || business.placements.length === 0) return null;\n      if (!business.subCategories || business.subCategories.length === 0) return null;\n      var title = \"\".concat(business.subCategories[0].title, \" \\u05D1\").concat(business.placements[0].heName, \" -\"); // if (business.placements[0].country) {\n      //   title += `, ${business.placements[0].country.heName}`;\n      // }\n\n      return title;\n    }\n  }, {\n    key: \"getLocationTitle\",\n    value: function getLocationTitle(business) {\n      if (!business || !business.placements || business.placements.length === 0) return '';\n      var locationName = business.placements[0].heName; // if (business.placements[0].country) {\n      //   locationName += `, <b>${business.placements[0].country.heName}</b>`;\n      // }\n\n      return __jsx(\"div\", {\n        className: \"address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, locationName, \",\", ' '), business.placements[0].country && business.placements[0].country.heName);\n    }\n  }, {\n    key: \"renderBusinessHeader\",\n    value: function renderBusinessHeader() {\n      var business = this.props.business;\n      if (!business) return null;\n      var englishName = business.englishName,\n          subSubCategory = business.subSubCategory,\n          description = business.description;\n      return __jsx(Card, {\n        className: \"business-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, description)), __jsx(\"div\", {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, __jsx(\"h4\", {\n        className: \"sub-category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, subSubCategory))));\n    }\n  }, {\n    key: \"renderBusinessBody\",\n    value: function renderBusinessBody() {\n      var _this$props$business = this.props.business,\n          address = _this$props$business.address,\n          phoneNumber = _this$props$business.phoneNumber,\n          facebookName = _this$props$business.facebookName,\n          instagramName = _this$props$business.instagramName,\n          websiteUrl = _this$props$business.websiteUrl,\n          email = _this$props$business.email,\n          scale1 = _this$props$business.scale1,\n          location = _this$props$business.location;\n      return __jsx(\"div\", {\n        className: \"business-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, __jsx(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, __jsx(Col, {\n        className: \"right\",\n        span: 8,\n        push: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), __jsx(Col, {\n        className: \"left\",\n        span: 10,\n        pull: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"phone-number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.formatPhoneNumber(phoneNumber)), __jsx(Row, {\n        className: \"social\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, websiteUrl && __jsx(\"a\", {\n        className: \"website-link\",\n        href: websiteUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"website\"), facebookName && __jsx(\"a\", {\n        target: \"_blank\",\n        className: \"facebook\",\n        href: \"https://facebook.com/\".concat(facebookName),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: facebookIcon,\n        alt: facebookName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })), instagramName && __jsx(\"a\", {\n        target: \"_blank\",\n        className: \"instagram\",\n        href: \"https://instagram.com/\".concat(instagramName),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: instagramIcon,\n        alt: instagramName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })), email && __jsx(\"a\", {\n        className: \"mail\",\n        href: \"mailto:\".concat(email),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: mailIcon,\n        alt: email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }))))), __jsx(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"renderBusinessHours\",\n    value: function renderBusinessHours() {\n      var _this2 = this;\n\n      var businessHours = this.props.business.businessHours;\n      if (!businessHours) return null;\n      var businessHoursObj = JSON.parse(businessHours);\n      return __jsx(\"div\", {\n        className: \"business-hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"\\u05E9\\u05E2\\u05D5\\u05EA \\u05E4\\u05E2\\u05D9\\u05DC\\u05D5\\u05EA\"), businessHoursObj.map(function (day, i) {\n        return __jsx(Row, {\n          key: \"day\".concat(i),\n          className: \"hour-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, day.length > 0 && day.map(function (hour) {\n          var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : j;\n          return __jsx(\"span\", {\n            key: \"day\".concat(i, \"-hour\").concat(hour),\n            className: \"hour\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235\n            },\n            __self: this\n          }, \"\".concat((i > 0 ? ', ' : '') + _this2.formatTime(hour.start), \"-\").concat(_this2.formatTime(hour.end)));\n        }), day.length === 0 && __jsx(\"span\", {\n          className: \"hour\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, \"\\u05E1\\u05D2\\u05D5\\u05E8\"), __jsx(\"span\", {\n          className: \"day\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, daysList[i]));\n      }));\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      return __jsx(Content, {\n        className: \"business-page loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, __jsx(AppSpinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"renderEmptyState\",\n    value: function renderEmptyState() {\n      return __jsx(Content, {\n        className: \"business-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        className: \"general-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"\\u05DE\\u05D8\\u05D9\\u05D9\\u05DC\\u05D9\\u05DD \\u05D9\\u05E9\\u05E8\\u05D0\\u05DC\\u05D9\\u05DD \\u05D1\\u05D7\\u05D5\\u05F4\\u05DC\"), this.renderInfoSection());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isLoading = _this$props.isLoading,\n          business = _this$props.business,\n          isReviewModalOpen = _this$props.isReviewModalOpen;\n      if (isLoading) return this.renderLoader();\n      if (!isLoading && !business) return this.renderEmptyState();\n      return __jsx(Page, {\n        className: \"business-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, __jsx(Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, __jsx(FancyTitle, {\n        highlightedTitle: business.englishName,\n        regularTitle: this.getPlaceName(business),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }), __jsx(Breadcrumbs, {\n        items: [{\n          link: '',\n          title: business.placements[0].country.heName,\n          placeObject: business.placements[0].country\n        }, {\n          link: '',\n          title: business.placements[0].heName,\n          placeObject: business.placements[0]\n        }, {\n          link: '',\n          title: business.subCategories[0].title,\n          subCategoryObject: business.subCategories[0],\n          placeObject: business.placements[0]\n        }, {\n          link: '',\n          title: business.englishName,\n          isHighlighted: true\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }), __jsx(Tags, _extends({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"header-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"info-and-share\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, business && __jsx(UserInfo, {\n        userDetails: business.userId,\n        additionalSecondaryTitle: \"\".concat(getFriendlyTime(business.dateCreated)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }), __jsx(ShareButtons, _extends({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }))), this.renderBusinessHeader(), __jsx(\"div\", {\n        className: \"cubes-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, __jsx(Gallery, _extends({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      })), __jsx(CardWrap, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"address-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        className: \"address-icon\",\n        icon: faMapMarker,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }), this.getLocationTitle(business)), business && business.address && __jsx(Map, _extends({\n        isMarkerShown: true,\n        location: business.location\n      }, DEF_PROPS, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      })))), this.renderInfoSection()));\n    }\n  }]);\n\n  return BusinessPage;\n}(React.Component);\n\nBusinessPage.propTypes = propTypes;\nBusinessPage.defaultProps = defaultProps;\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var BusinessPageReducer = _ref.BusinessPageReducer;\n  var business = BusinessPageReducer.business,\n      isLoading = BusinessPageReducer.isLoading,\n      isReviewModalOpen = BusinessPageReducer.isReviewModalOpen,\n      isReviewLoading = BusinessPageReducer.isReviewLoading;\n  return {\n    business: business,\n    isLoading: isLoading,\n    isReviewModalOpen: isReviewModalOpen,\n    isReviewLoading: isReviewLoading\n  };\n};\n\nvar mapDispatchToProps = {\n  getBusinessByFriendlyUrl: getBusinessByFriendlyUrl,\n  setEmptyState: setEmptyState,\n  submitBusinessReview: submitBusinessReview,\n  setReviewModalState: setReviewModalState,\n  setReviewLoadingState: setReviewLoadingState,\n  cleanBusinessPage: cleanBusinessPage\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BusinessPage);","map":{"version":3,"sources":["/Users/kobi.mantzur/m/n/src/containers/BusinessPage/index.js"],"names":["React","_","connect","PropTypes","Button","Row","Col","Rate","Layout","Card","Icon","FontAwesomeIcon","faMapPin","faMapMarker","getFriendlyTime","isMobile","getBusinessByFriendlyUrl","setReviewLoadingState","setEmptyState","submitBusinessReview","setReviewModalState","cleanBusinessPage","CurrentlyOpen","Rating","Comments","ReviewModal","facebookIcon","instagramIcon","mailIcon","ShareButtons","Map","DEF_PROPS","Gallery","reportScreen","reportEvent","AppSpinner","CardWrap","UserInfo","FancyTitle","Breadcrumbs","Tags","Page","Content","daysList","propTypes","business","object","func","isLoading","bool","defaultProps","undefined","noop","BusinessPage","props","s","s2","replace","m","match","time","parsedTime","Date","JSON","parse","hours","getHours","minutes","getMinutes","state","friendlyUrl","params","window","location","href","pathname","placements","length","subCategories","title","heName","locationName","country","englishName","subSubCategory","description","address","phoneNumber","facebookName","instagramName","websiteUrl","email","scale1","formatPhoneNumber","businessHours","businessHoursObj","map","day","i","hour","j","formatTime","start","end","renderInfoSection","isReviewModalOpen","renderLoader","renderEmptyState","getPlaceName","link","placeObject","subCategoryObject","isHighlighted","userId","dateCreated","renderBusinessHeader","getLocationTitle","Component","mapStateToProps","BusinessPageReducer","isReviewLoading","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport _ from 'underscore';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'antd/lib/button';\nimport {\n  Row, Col, Rate, Layout, Card, Icon,\n} from 'antd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapPin, faMapMarker } from '@fortawesome/free-solid-svg-icons';\nimport { getFriendlyTime, isMobile } from '../../services/commonService';\nimport {\n  getBusinessByFriendlyUrl,\n  setReviewLoadingState,\n  setEmptyState,\n  submitBusinessReview,\n  setReviewModalState,\n  cleanBusinessPage,\n} from '../../reducers/BusinessPage/actions';\nimport CurrentlyOpen from './Components/CurrentlyOpen';\nimport Rating from './Components/Rating';\nimport './index.scss';\nimport Comments from './Components/Comments';\nimport ReviewModal from './Components/ReviewModal';\nimport facebookIcon from '../../img/facebook-icon.png';\nimport instagramIcon from '../../img/instagram-icon.png';\nimport mailIcon from '../../img/mail-icon.png';\nimport { ShareButtons } from './Components';\n\nimport Map, { DEF_PROPS } from './Components/Map';\nimport Gallery from './Components/Gallery';\n\nimport { reportScreen, reportEvent } from '../../services/analyticsService';\nimport {\n  AppSpinner, CardWrap, UserInfo, FancyTitle,\n} from '../../components';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Tags from './Components/Tags';\nimport Page from '../../components/Page';\nimport Content from '../../components/Content';\n// const { Content } = Layout;\nconst daysList = ['ראשון', 'שני', 'שלישי', 'רביעי', 'חמישי', 'שישי', 'שבת'];\n\nconst propTypes = {\n  business: PropTypes.object,\n  getBusinessByFriendlyUrl: PropTypes.func,\n  isLoading: PropTypes.bool,\n};\n\nconst defaultProps = {\n  business: undefined,\n  getBusinessByFriendlyUrl: _.noop,\n  isLoading: true,\n};\n\nclass BusinessPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: false,\n    };\n  }\n\n  componentWillMount() {\n    const { friendlyUrl } = this.props.match.params;\n    if (!friendlyUrl) {\n      window.location.href = 'https://mymapo.com';\n      // this.props.setEmptyState();\n    } else {\n      this.props.getBusinessByFriendlyUrl(friendlyUrl);\n    }\n  }\n  componentWillUnmount() {\n    this.props.cleanBusinessPage();\n  }\n\n  componentDidMount() {\n    reportScreen(location.pathname);\n  }\n\n  onModalStateChange = (s) => {\n    this.props.setReviewModalState(s);\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getPlaceName(business) {\n    if (!business.placements || business.placements.length === 0) return null;\n    if (!business.subCategories || business.subCategories.length === 0) return null;\n    const title = `${business.subCategories[0].title} ב${business.placements[0].heName} -`;\n    // if (business.placements[0].country) {\n    //   title += `, ${business.placements[0].country.heName}`;\n    // }\n    return title;\n  }\n\n  getLocationTitle(business) {\n    if (!business || !business.placements || business.placements.length === 0) return '';\n\n    const locationName = business.placements[0].heName;\n    // if (business.placements[0].country) {\n    //   locationName += `, <b>${business.placements[0].country.heName}</b>`;\n    // }\n\n    return (\n      <div className=\"address\">\n        <b>\n          {locationName}\n,\n          {' '}\n        </b>\n        {business.placements[0].country && business.placements[0].country.heName}\n      </div>\n    );\n  }\n\n  formatPhoneNumber = (s) => {\n    const s2 = `${s}`.replace(/\\D/g, '');\n    const m = s2.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return !m ? null : `(${m[1]}) ${m[2]}-${m[3]}`;\n  };\n\n  formatTime = (time) => {\n    const parsedTime = new Date(JSON.parse(JSON.stringify(new Date(time))));\n    if (parsedTime) {\n      const hours = parsedTime.getHours() < 10 ? `0${parsedTime.getHours()}` : parsedTime.getHours();\n      const minutes = parsedTime.getMinutes() < 10 ? `0${parsedTime.getMinutes()}` : parsedTime.getMinutes();\n      return `${hours}:${minutes}`;\n    }\n    return '';\n  };\n\n  renderBusinessHeader() {\n    const { business } = this.props;\n    if (!business) return null;\n    const { englishName, subSubCategory, description } = business;\n    return (\n      <Card className=\"business-header\">\n        {/* <Row className=\"row\"> */}\n        <div className=\"row\">\n          <div className=\"right\">\n            {/* <CurrentlyOpen business={business} /> */}\n            <div className=\"description\">{description}</div>\n            {/* <Button className=\"share-button\">שלח לחבר</Button> */}\n          </div>\n          <div className=\"left\">\n            {/* <h1 className=\"title\">{englishName}</h1> */}\n            <h4 className=\"sub-category\">{subSubCategory}</h4>\n            {/* <Rating disabled business={business} /> */}\n          </div>\n        </div>\n        {/* </Row> */}\n      </Card>\n    );\n  }\n\n  renderBusinessBody() {\n    const {\n      business: {\n        address,\n        phoneNumber,\n        facebookName,\n        instagramName,\n        websiteUrl,\n        email,\n        scale1,\n        location,\n      },\n    } = this.props;\n    return (\n      <div className=\"business-body\">\n        <Row>\n          <Col className=\"right\" span={8} push={16}>\n            {/* {this.renderBusinessHours()} */}\n          </Col>\n          <Col className=\"left\" span={10} pull={8}>\n            <p className=\"phone-number\">{this.formatPhoneNumber(phoneNumber)}</p>\n\n            <Row className=\"social\">\n              {websiteUrl && (\n                <a className=\"website-link\" href={websiteUrl}>\n                  website\n                </a>\n              )}\n              {facebookName && (\n                <a\n                  target=\"_blank\"\n                  className=\"facebook\"\n                  href={`https://facebook.com/${facebookName}`}\n                >\n                  {/* <img src={facebookIcon} /> */}\n                  <img src={facebookIcon} alt={facebookName} />\n                </a>\n              )}\n              {instagramName && (\n                <a\n                  target=\"_blank\"\n                  className=\"instagram\"\n                  href={`https://instagram.com/${instagramName}`}\n                >\n                  <img src={instagramIcon} alt={instagramName} />\n                </a>\n              )}\n              {email && (\n                <a className=\"mail\" href={`mailto:${email}`}>\n                  <img src={mailIcon} alt={email} />\n                </a>\n              )}\n            </Row>\n          </Col>\n        </Row>\n        <Row>\n          {/* <div className=\"address-wrapper\">\n            <FontAwesomeIcon className=\"address-icon\" icon={faMapMarker} />\n            <span className=\"address\">{address}</span>\n          </div>\n          <Map isMarkerShown location={location} {...DEF_PROPS} /> */}\n        </Row>\n      </div>\n    );\n  }\n\n  renderBusinessHours() {\n    const {\n      business: { businessHours },\n    } = this.props;\n    if (!businessHours) return null;\n    const businessHoursObj = JSON.parse(businessHours);\n    return (\n      <div className=\"business-hours\">\n        <h1>שעות פעילות</h1>\n        {businessHoursObj.map((day, i) => (\n          <Row key={`day${i}`} className=\"hour-row\">\n            {day.length > 0\n              && day.map((hour, i = j) => (\n                <span key={`day${i}-hour${hour}`} className=\"hour\">\n                  {`${(i > 0 ? ', ' : '') + this.formatTime(hour.start)}-${this.formatTime(\n                    hour.end,\n                  )}`}\n                </span>\n              ))}\n            {day.length === 0 && <span className=\"hour\">סגור</span>}\n            <span className=\"day\">{daysList[i]}</span>\n          </Row>\n        ))}\n      </div>\n    );\n  }\n\n  renderInfoSection = () => {\n    return null;\n    return (\n      <Row className=\"info-wrapper\">\n        <Col span={12} push={12}>\n          <div className=\"info-item\">\n            <h1>בעל עסק?</h1>\n            <p>\n              מחפש לקדם את העסק שלך?\n              <br />\n              אצלנו תקבל הזדמנות לחשיפה ענקית ופרסום לבית העסק שלך.\n            </p>\n          </div>\n        </Col>\n        <Col span={12} pull={12}>\n          <div className=\"info-item\">\n            <h1>מה זה Mapo?</h1>\n            <p>\n              {`עברת ללוס אנג'לס?\n\nמחפש רופא? או אולי עורך דין טוב? הקושי של השפה מקשה עלייך?\n\nאתה לא לבד! `}\n              <br />\n\n              {`בשביל זה אנחנו פה.\n\nאנחנו בMapo דואגים לספק לך את כל העסקים\n\nונותני השירות הישראלים.`}\n            </p>\n          </div>\n        </Col>\n      </Row>\n    );\n  };\n\n  renderLoader() {\n    return (\n      <Content className=\"business-page loader\">\n        <AppSpinner />\n      </Content>\n    );\n  }\n\n  renderEmptyState() {\n    return (\n      <Content className=\"business-page\">\n        <h1 className=\"general-title\">מטיילים ישראלים בחו״ל</h1>\n        {this.renderInfoSection()}\n      </Content>\n    );\n  }\n\n  render() {\n    const { isLoading, business, isReviewModalOpen } = this.props;\n\n    if (isLoading) return this.renderLoader();\n    if (!isLoading && !business) return this.renderEmptyState();\n    return (\n      <Page className=\"business-page\">\n        <Content>\n          <FancyTitle\n            highlightedTitle={business.englishName}\n            regularTitle={this.getPlaceName(business)}\n          />\n          <Breadcrumbs\n            items={[\n              {\n                link: '',\n                title: business.placements[0].country.heName,\n                placeObject: business.placements[0].country,\n              },\n              {\n                link: '',\n                title: business.placements[0].heName,\n                placeObject: business.placements[0],\n              },\n              {\n                link: '',\n                title: business.subCategories[0].title,\n                subCategoryObject: business.subCategories[0],\n                placeObject: business.placements[0],\n              },\n              {\n                link: '',\n                title: business.englishName,\n                isHighlighted: true,\n              },\n            ]}\n          />\n          <Tags {...this.props} />\n          <div className=\"header-color\" />\n\n          <div className=\"info-and-share\">\n            {business && (\n              <UserInfo\n                userDetails={business.userId}\n                additionalSecondaryTitle={`${getFriendlyTime(business.dateCreated)}`}\n              />\n            )}\n            <ShareButtons {...this.props} />\n          </div>\n          {this.renderBusinessHeader()}\n          <div className=\"cubes-row\">\n            <Gallery {...this.props} />\n            <CardWrap>\n              <div className=\"address-wrapper\">\n                <FontAwesomeIcon className=\"address-icon\" icon={faMapMarker} />\n                {this.getLocationTitle(business)}\n              </div>\n              {business && business.address && (\n                <Map isMarkerShown location={business.location} {...DEF_PROPS} />\n              )}\n            </CardWrap>\n          </div>\n          {/* <Comments business={business} onAddClick={() => this.onModalStateChange(true)} /> */}\n          {this.renderInfoSection()}\n        </Content>\n        {/* <ReviewModal\n          isOpen={isReviewModalOpen}\n          onCloseClick={() => this.onModalStateChange(false)}\n          {...this.props}\n          onClose={this.onModalStateChange}\n        /> */}\n      </Page>\n    );\n  }\n}\n\nBusinessPage.propTypes = propTypes;\nBusinessPage.defaultProps = defaultProps;\n\nconst mapStateToProps = ({ BusinessPageReducer }) => {\n  const {\n    business, isLoading, isReviewModalOpen, isReviewLoading,\n  } = BusinessPageReducer;\n  return {\n    business,\n    isLoading,\n    isReviewModalOpen,\n    isReviewLoading,\n  };\n};\nconst mapDispatchToProps = {\n  getBusinessByFriendlyUrl,\n  setEmptyState,\n  submitBusinessReview,\n  setReviewModalState,\n  setReviewLoadingState,\n  cleanBusinessPage,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BusinessPage);\n"]},"metadata":{},"sourceType":"module"}