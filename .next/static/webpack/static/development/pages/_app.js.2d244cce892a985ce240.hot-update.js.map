{"version":3,"file":"static/webpack/static/development/pages/_app.js.2d244cce892a985ce240.hot-update.js","sources":["webpack:///./src/reducers/Search/actions.js"],"sourcesContent":["import { push } from 'connected-react-router';\nimport { getRequest } from '../../services/requestService';\nimport * as types from './types';\nimport { buildSearchUrl } from '../../services/urlBuilderService';\n\nexport const getCountries = () => async dispatch => {\n  const res = await getRequest('/placements/getPlacementsData');\n  const payload = { isLoading: false, ...res.data };\n  dispatch({ type: types.SET_COUNTRIES, payload });\n\n  return payload;\n};\n\nexport const getPlaceDetails = placeId => async dispatch => {\n  const res = await getRequest(`/placements/getPlaceDetails?placeId=${placeId}`);\n\n  dispatch({ type: types.SET_PLACE_DETAILS, payload: { isLoading: false, ...res.data } });\n};\n\nexport function setSearchModalState(isSearchOpen) {\n  return {\n    type: types.SET_MODAL_STATE,\n    payload: { isSearchOpen }\n  };\n}\n\nexport const searchQuery = (query = '') => async dispatch => {\n  const firstPayload = { isSearchLoading: true, query };\n  if (!query) {\n    firstPayload.autocompleteList = [];\n    firstPayload.isSearchLoading = false;\n  }\n  dispatch({ type: types.SEARCH_QUERY, payload: firstPayload });\n  if (query) {\n    const res = await getRequest(`webSearch/searchByQuery?query=${query}`);\n    dispatch({\n      type: types.SEARCH_QUERY,\n      payload: { autocompleteList: res.data, isSearchLoading: false }\n    });\n  }\n};\n\nexport const navigateSearchBySubCategory = (selectedPlace, subCategory) => async dispatch => {\n  const targetUrl = buildSearchUrl({\n    placeId: selectedPlace._id,\n    subCategoryId: subCategory._id\n  });\n  dispatch(push(targetUrl));\n  dispatch({\n    type: types.SEARCH_SUB_CATEGORY,\n    payload: { isLoading: true, selectedSubCategory: subCategory }\n  });\n};\n\nexport const searchBySubCategory = (placeId, subCategoryId) => async dispatch => {\n  dispatch({\n    type: types.SEARCH_SUB_CATEGORY,\n    payload: { isLoading: true }\n  });\n  const res = await getRequest(\n    `webSearch/searchBySubCategory?placeId=${placeId}&subCategoryId=${subCategoryId}`\n  );\n  const payload = { isLoading: false, ...res.data };\n  dispatch({\n    type: types.SEARCH_SUB_CATEGORY,\n    payload\n  });\n\n  return payload;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAAA;AAFA;AAGA;AAAA;AAAA;AAAA;AAHA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AADA;AAAA;AACA;AADA;AAKA;AAGA;AAAA;AARA;AASA;AACA;AACA;AAFA;AATA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}