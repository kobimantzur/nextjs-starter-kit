{"version":3,"file":"static/webpack/static/development/pages/business/[businessId]/[friendlyUrl].js.35d63ba46e09bb0a45da.hot-update.js","sources":["webpack:///./pages/business/[businessId]/[friendlyUrl].js"],"sourcesContent":["import React, { Component } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport BusinessPage from '../../../src/containers/BusinessPage';\nimport {\n  fetchBusinessByFriendlyUrl,\n  getBusinessByFriendlyUrl\n} from '../../../src/reducers/BusinessPage/actions';\nimport Head from 'next/head';\nimport { DEFAULT_PAGE_TITLE } from '../../../src/constants';\n\nclass Business extends Component {\n  static async getInitialProps({ store, isServer, pathname, query, ctx }) {\n    const { businessId } = query;\n    try {\n      const res = await store.dispatch(getBusinessByFriendlyUrl(businessId));\n\n      return { ...res };\n    } catch (e) {}\n    return {};\n  }\n  getPageTitle() {\n    const { business } = this.props;\n    if (!business.title) {\n      // TODO: report analytics\n      return DEFAULT_PAGE_TITLE;\n    }\n    return `Mapo | המלצה על ${business.subCategories[0].title} ב${business.placements[0].heName}`;\n  }\n  getMetaImage() {\n    const { business } = this.props;\n    if (!business) return '';\n\n    return business.logoUrl;\n  }\n  getMetaDescription() {\n    const { business } = this.props;\n    if (!business) return null;\n\n    try {\n      return `${business.description.slice(0, 130)}`;\n    } catch (e) {\n      return '';\n    }\n  }\n  render() {\n    return (\n      <div>\n        <Head>\n          <title key=\"title\">{this.getPageTitle()}</title>\n          <meta property=\"og:title\" key=\"og:title\" content={this.getPageTitle()} />\n          <meta property=\"og:image\" key=\"og:image\" content={this.getMetaImage()} />\n          <meta\n            property=\"og:description\"\n            key=\"og:description\"\n            content={this.getMetaDescription()}\n          />\n        </Head>\n        <BusinessPage {...this.props} />\n      </div>\n    );\n  }\n}\n\nexport default Business;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;;;;;;;;;;;;;AAUA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AACA;AAAA;AAEA;AAEA;AACA;;;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;AAjDA;AACA;;;AAEA;AACA;;AADA;AAEA;AACA;;;;;;AACA;AACA;;;;;;;;;;;AATA;AACA;AAoDA;;;;A","sourceRoot":""}